<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Games</title>
<link href="miniGames.css" rel="stylesheet" type="text/css" />

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Caveat+Brush" rel="stylesheet">

    <link rel="stylesheet" href="../rocketbar/expstickybar.css" />
    <!-- <link rel="stylesheet" href="../mvp/css/color-a.css" />
      <link rel="stylesheet" href="../mvp/css/color-b.css" />
    <link rel="stylesheet" href="../mvp/css/core-a.css" /> -->
    <!-- <script src="../mvp/js/main.js"></script> -->
  	<!-- <script src="../../rocketbar/4/rocketbar.js"></script> -->
    <!-- test lokal -->
    <!-- <script src="../../../4/rocketbar.js"></script> -->

<meta name=viewport
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<script type="text/javascript" src="jquery/jquery.min.js"></script>
<script type="text/javascript" src="jquery/jquery.easyui.min.js"></script>
<script type="text/javascript" src="jquery/jquery.easyui.mobile.js"></script>
<script src="controller.js"></script>

<script type="text/javascript">
			$(document).ready(function() {


				//Füge alle Buttons auf der Seite dem EventListener hinzu
				// Jeder Click auf einen button wird vom EventListener abgefangen und bearbeitet
				var buttons = document.getElementsByTagName('button');
				for (var i = 0; i < buttons.length; i++) {
				  var button = buttons[i];
					if (button.addEventListener) {
					    button.addEventListener("click", handleClick, false);
					}
					else if (button.attachEvent) {
					    button.attachEvent("onclick", handleClick);
					}
				}

				// Wenn ein Button angeklickt wird, gebe die ID des Buttons an die Methode openQuiz weiter
				function handleClick(event) {
				    event = event || window.event;
				    event.target = event.target || event.srcElement;

				    var element = event.target;
						var idOfButtonClicked;

				        if (element.nodeName === "BUTTON" && /buttonToQuiz/.test(element.className)) {
				            // The user clicked on a <button> or clicked on an element inside a <button>
				            // with a class name called "foo"
				            console.log("button clicked: " + element.id)
										idOfButtonClicked = element.id;
				        }

				        // element = element.parentNode;
								// console.log(element)
						openQuiz(idOfButtonClicked);
				}

				// die Methode openQuiz holt sich den Namen des jeweiligen JSON und hängt diesen an die URL der Spiele HTML Seite
				// in der miniGames.html wird dann die controller.js geladen und der Parameter ausgelesen
				function openQuiz(idOfButtonClicked) {

          if(idOfButtonClicked== "quizWertkettenmodell" || idOfButtonClicked== "quizSt-Galler-Management-Modell" || idOfButtonClicked == "quizBusinessCanvas" || idOfButtonClicked == "quizOekonomischesPrinzip" || idOfButtonClicked == "quizStakeholderShareholder" ) {
            var jsonFileName = $('#'+idOfButtonClicked).attr('jsonFileName')
						window.location = "miniGames.html?jsonFileName=" + jsonFileName;
          }



				}

        function expstickybar(usersetting){
      		var setting=jQuery.extend({position:'bottom', peekamount:30, revealtype:'mouseover', speed:200}, usersetting)
      		var thisbar=this
      		var cssfixedsupport=!document.all || document.all && document.compatMode=="CSS1Compat" && window.XMLHttpRequest //check for CSS fixed support
      		if (!cssfixedsupport || window.opera)
      			return
      		jQuery(function($){ //on document.ready
      			if (setting.externalcontent){
      				thisbar.$ajaxstickydiv=$('<div id="ajaxstickydiv_'+setting.id+'"></div>').appendTo(document.body) //create blank div to house sticky bar DIV
      				thisbar.loadcontent($, setting)
      				}
      			else
      				thisbar.init($, setting)
      		})
      	}

      	expstickybar.prototype={

      		loadcontent:function($, setting){
      			var thisbar=this
      			var ajaxfriendlyurl=setting.externalcontent.replace(/^http:\/\/[^\/]+\//i, "http://"+window.location.hostname+"/")
      			$.ajax({
      				url: ajaxfriendlyurl, //path to external content
      				async: true,
      				dataType: 'html',
      				error:function(ajaxrequest){
      					alert('Error fetching Ajax content.<br />Server Response: '+ajaxrequest.responseText)
      				},
      				success:function(content){
      					thisbar.$ajaxstickydiv.html(content)
      					thisbar.init($, setting)
      				}
      			})

      		},

      		showhide:function(keyword, anim){
      			var thisbar=this, $=jQuery
      			var finalpx=(keyword=="show")? 0 : -(this.height-this.setting.peekamount)
      			var positioncss=(this.setting.position=="bottom")? {bottom:finalpx} : {top:finalpx}
      			this.$stickybar.stop().animate(positioncss, (anim)? this.setting.speed : 0, function(){
      				thisbar.$indicators.each(function(){
      					var $indicator=$(this)
      					$indicator.attr('src', (thisbar.currentstate=="show")? $indicator.attr('data-closeimage') : $indicator.attr('data-openimage'))
      				})
      			})

      			thisbar.currentstate=keyword
      		},

      		toggle:function(){
      			var state=(this.currentstate=="show")? "hide" : "show"
      			this.showhide(state, true)
      		},

      		init:function($, setting){
      			var thisbar=this
      			this.$stickybar=$('#'+setting.id).css('visibility', 'visible')
      			this.height=this.$stickybar.outerHeight()
      			this.currentstate="hide"
      			setting.peekamount=Math.min(this.height, setting.peekamount)
      			this.setting=setting
      			if (setting.revealtype=="mouseover")
      				this.$stickybar.bind("mouseclick touchmove swipe mouseenter mouseleave", function(e){
      					thisbar.showhide((e.type=="mouseenter" || e.type=="mouseclick" || e.type=="touchmove")? "show" : "hide", true)
      			})
      			this.$indicators=this.$stickybar.find('img[data-openimage]') //find images within bar with data-openimage attribute
      			this.$stickybar.find('a[href=togglebar]').click(function(){ //find links within bar with href=#togglebar and assign toggle behavior to them
      				thisbar.toggle()
      				return false
      			})
      			setTimeout(function(){
      				thisbar.height=thisbar.$stickybar.outerHeight() //refetch height of bar after 1 second (last change to properly get height of sticky bar)
      			}, 1000)
      			this.showhide("hide")
      		}
      	}

      	/////////////Initialization code://///////////////////////////

      	//Usage: var unqiuevar=new expstickybar(setting)
        //
      	// var mystickybar=new expstickybar({
      	// 	id: "rocketbar", //id of sticky bar DIV
      	// 	position:'bottom', //'top' or 'bottom'
      	// 	revealtype:'manual', //'mouseover' or 'manual'
      	// 	peekamount:40, //number of pixels to reveal when sticky bar is closed
      	// 	externalcontent:'rocketbarcontent.htm', //path to sticky bar content file on your server, or "" if content is defined inline on the page
      	// 	speed:500 //duration of animation (in millisecs)
      	// })

				});

			// (function() {
			//
			// 		var img = document.getElementById('#left').firstChild;
			// 		img.onload = function() {
			// 		    if(img.height > img.width) {
			// 		        img.height = '100%';
			// 		        img.width = 'auto';
			// 		    }
			// 		};
			//
			// }());
</script>

<!-- <script type="text/javascript">
alert("test")

var el = document.getElementById("clickMe");
if (el.addEventListener)
    el.addEventListener("click", go, false);
else if (el.attachEvent)
    el.attachEvent('onclick', go);



</script> -->

</head>
<body>
	<div id="header">
		<h1>Interaktive Lerninhalte</h1>
		<h2>IMBIT 2014 für BWL</h2>
	</div>
	<div id="container1">
		<div id="left">
				<img src="Stern-blank-ausgestellt.png" style='object-fit: contain'>
		</div>
		<div id="right">
      Willkommen bei den interaktiven Lerneinheiten!
<br>
<br>
Es handelt sich bei dieser Seite um Lerninhalte zu den Kernthemen der BWL,
die vom IMBIT-14C Jahrgang für euch zusammen gestellt wurden.
Hier findet ihr viele interessante Möglichkeiten euer BWL-Wissen interaktiv
mittels kurzer Intro-Videos und angehängter Minispiele zu testen.
Wer also auf der Suche nach praktischen Beispielen im BWL-Kontext ist, der sollte
hier weiter stöbern.<br>
Wir wünschen euch viel Spaß beim Ausprobieren!
<br>
<br>
Euer IMBIT-14C Jahrgang

		</div>

	</div>

<!-- <button class="buttonToQuiz1" jsonFileName="Wertkettenmodell.json" type="button"  id="clickMe">Wertkettenmodell</button> -->

	<div id="container2">
      <button class="buttonToQuiz1" jsonFileName="Wertkettenmodell.json" type="button"  id="quizWertkettenmodell">Wertkettenmodell</button>
      <button class="buttonToQuiz2" jsonFileName="St-Galler-Management-Modell.json" type="button" id="quizSt-Galler-Management-Modell">St Galler Management Modell</button>
      <button class="buttonToQuiz3" jsonFileName="Business-Canvas.json" type="button" id="quizBusinessCanvas">Business Canvas</button>
      <button class="buttonToQuiz4" jsonFileName="Oekonomisches-Prinzip.json" type="button" id="quizOekonomischesPrinzip">Ökonomisches Prinzip</button>
      <button class="buttonToQuiz5" jsonFileName="Shareholder-Stakeholder-Ansatz.json" type="button" id="quizStakeholderShareholder">Shareholder/Stakeholder Ansatz</button>


		<!-- <div jsonFileName="St-Galler-Management-Modell.json" type="button" class="buttonToQuiz2" id="clickmeYesNo">St Galler Management Modell</div>
	  <div jsonFileName="St-Galler-Management-Modell.json" type="button" class="buttonToQuiz3" id="">Business Canvas</div>
	  <div jsonFileName="St-Galler-Management-Modell.json" type="button" class="buttonToQuiz4" id="">Ökonomisches Prinzip</div>
	  <div jsonFileName="St-Galler-Management-Modell.json" type="button" class="buttonToQuiz5" id="">Shareholder/Stakeholder Ansatz</div> -->
	</div>



	<!-- <input type="button" id="clickMe" value="BWL Game"/> -->


</body>
</html>
